{"ast":null,"code":"import React,{createContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export const AuthContext=/*#__PURE__*/createContext(null);export function AuthProvider(_ref){let{children}=_ref;const[user,setUser]=useState(null);useEffect(()=>{try{const stored=localStorage.getItem('currentUser');if(stored)setUser(JSON.parse(stored));}catch(e){// ignore\n}},[]);const signup=async _ref2=>{let{name,email,password}=_ref2;// simple localStorage-backed signup for demo / dev\nconst users=JSON.parse(localStorage.getItem('users')||'[]');const exists=users.find(u=>u.email===email);if(exists){const err=new Error('User with this email already exists');err.response={data:{message:'User already exists'}};throw err;}const newUser={id:Date.now(),name,email,password};users.push(newUser);localStorage.setItem('users',JSON.stringify(users));// set session\nconst session={email:newUser.email,name:newUser.name,isLoggedIn:true};localStorage.setItem('currentUser',JSON.stringify(session));setUser(session);return session;};const login=async(email,password)=>{const users=JSON.parse(localStorage.getItem('users')||'[]');const found=users.find(u=>u.email===email&&u.password===password);if(!found){const err=new Error('Invalid credentials');err.response={data:{message:'Invalid email or password'}};throw err;}const session={email:found.email,name:found.name,isLoggedIn:true};localStorage.setItem('currentUser',JSON.stringify(session));setUser(session);return session;};const logout=()=>{localStorage.removeItem('currentUser');setUser(null);};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,signup,login,logout},children:children});}export default AuthContext;","map":{"version":3,"names":["React","createContext","useState","useEffect","jsx","_jsx","AuthContext","AuthProvider","_ref","children","user","setUser","stored","localStorage","getItem","JSON","parse","e","signup","_ref2","name","email","password","users","exists","find","u","err","Error","response","data","message","newUser","id","Date","now","push","setItem","stringify","session","isLoggedIn","login","found","logout","removeItem","Provider","value"],"sources":["C:/Users/SUGMYA/OneDrive/Desktop/finarth-main - Copy/frontend/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\n\r\nexport const AuthContext = createContext(null);\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const stored = localStorage.getItem('currentUser');\r\n      if (stored) setUser(JSON.parse(stored));\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n  }, []);\r\n\r\n  const signup = async ({ name, email, password }) => {\r\n    // simple localStorage-backed signup for demo / dev\r\n    const users = JSON.parse(localStorage.getItem('users') || '[]');\r\n    const exists = users.find(u => u.email === email);\r\n    if (exists) {\r\n      const err = new Error('User with this email already exists');\r\n      err.response = { data: { message: 'User already exists' } };\r\n      throw err;\r\n    }\r\n\r\n    const newUser = { id: Date.now(), name, email, password };\r\n    users.push(newUser);\r\n    localStorage.setItem('users', JSON.stringify(users));\r\n\r\n    // set session\r\n    const session = { email: newUser.email, name: newUser.name, isLoggedIn: true };\r\n    localStorage.setItem('currentUser', JSON.stringify(session));\r\n    setUser(session);\r\n    return session;\r\n  };\r\n\r\n  const login = async (email, password) => {\r\n    const users = JSON.parse(localStorage.getItem('users') || '[]');\r\n    const found = users.find(u => u.email === email && u.password === password);\r\n    if (!found) {\r\n      const err = new Error('Invalid credentials');\r\n      err.response = { data: { message: 'Invalid email or password' } };\r\n      throw err;\r\n    }\r\n\r\n    const session = { email: found.email, name: found.name, isLoggedIn: true };\r\n    localStorage.setItem('currentUser', JSON.stringify(session));\r\n    setUser(session);\r\n    return session;\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('currentUser');\r\n    setUser(null);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, signup, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default AuthContext;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}